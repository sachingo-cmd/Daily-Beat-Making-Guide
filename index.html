<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Daily Beat-Making Guide</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
  html, body {
    margin: 0; padding: 1rem; min-height: 100vh;
    font-family: 'Poppins', sans-serif;
    background-color: #121212; color: #ddd;
  }
  h1, h2, h3 {
    color: #ff7043; margin-bottom: 0.5rem;
  }
  label {
    display: block; font-weight: 600;
    color: #fea872; margin-bottom: 0.3rem;
  }
  select, textarea {
    width: 100%; border-radius: 6px;
    border: 1px solid #ff7043;
    background-color: #121212; padding: 0.5rem;
    color: #ddd; font-size: 1rem; resize: vertical;
  }
  section {
    background: #1e1e1e; border-radius: 8px;
    margin-bottom: 1.5rem; padding: 1rem 1.5rem;
    box-shadow: 0 2px 10px rgba(255,112,67,0.15);
  }
  ul {
    list-style: none; padding-left: 0;
  }
  li {
    margin: 0.5rem 0;
  }
  input[type="checkbox"] {
    transform: scale(1.3); margin-right: 0.8rem;
    accent-color: #ff7043; cursor: pointer;
  }
  button {
    background-color: #2a2a2a; border: 1px solid #ffa366;
    border-radius: 6px; color: #ffd4b0;
    cursor: pointer; font-weight: 500;
    margin: 0.3rem 0.3rem 0.3rem 0; padding: 0.4rem 0.6rem;
    transition: background-color 0.3s; font-size: 0.9rem;
  }
  button:hover {
    background-color: #ff7043; color: #121212;
  }
  button.selected {
    background-color: #ff7043;
    color: #121212; border-color: #ff7f50; font-weight: 700;
  }
  footer {
    text-align: center; font-size: 0.85rem;
    margin-top: 2rem; color: #ff9b68; font-weight: 600;
  }
  .flex-row {
    display: flex; flex-wrap: wrap; gap: 1rem;
  }
  .flex-column {
    flex: 1 1 250px;
  }
  .instrument-category {
    margin-bottom: 1rem;
  }
  .tooltip:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    background-color: #333; color: #ffd4b0;
    padding: 5px 8px; border-radius: 4px;
    white-space: nowrap; font-size: 0.85rem;
    transform: translateY(1.5rem);
    display: block; z-index: 10;
  }
</style>
</head>
<body>

<header>
  <h1>Daily Beat-Making Guide</h1>
  <p style="color:#bbb; font-style:italic;">Create. Groove. Vibe.</p>
</header>

<section>
  <div class="flex-row">
    <div class="flex-column">
      <label for="style-select">Select Music Style:</label>
      <select id="style-select" aria-label="Select Music Style"></select>
    </div>
    <div class="flex-column">
      <label for="mood-select">Select Mood/Vibe:</label>
      <select id="mood-select" aria-label="Select Mood"></select>
    </div>
  </div>
  <div id="style-info" style="margin-top:1rem; color:#ffa26b;"></div>
</section>

<section>
  <h2>Today's Beat-Making Tasks</h2>
  <ul id="task-list"></ul>
</section>

<section>
  <h2>Instrument Selection</h2>
  <div class="instrument-category">
    <h3>Drums</h3>
    <div id="drums"></div>
  </div>
  <div class="instrument-category">
    <h3>Bass</h3>
    <div id="bass"></div>
  </div>
  <div class="instrument-category">
    <h3>Melodic Elements</h3>
    <div id="melodic"></div>
  </div>
</section>

<section>
  <h2>Summary - Your Beat Focus</h2>
  <div id="summary" style="color:#ffa26b;"></div>
</section>

<section>
  <h2>Notes & Reflections</h2>
  <textarea id="notes-area" rows="6" placeholder="Write your session notes here..."></textarea>
</section>

<footer>
  <p>Â© 2025 Your Beat-Making Guide</p>
</footer>

<script>
const musicStyles = {
  "Lo-Fi Hip-Hop": {
    bpmRange: "60 - 90",
    tips: "Relaxed, textured beats with simple drums & warm bass. Focus on groove & atmosphere.",
    maxElements: { drums: 5, bass: 1, melodic: 2 },
    drumSamples: ["Soft kick", "Lo-fi snare", "Closed hi-hat", "Open hi-hat", "Shaker"],
    bassSamples: ["Warm sub bass", "Synth bass"],
    melodicSamples: ["Electric piano", "Pluck synth", "Ambient pad", "Bell", "Guitar loop"]
  },
  "Trap-Influenced Hip-Hop": {
    bpmRange: "130 - 150",
    tips: "Punchy drums with heavy bass and minimal melodic elements. Use rhythmic trap kits.",
    maxElements: { drums: 5, bass: 1, melodic: 2 },
    drumSamples: ["Punchy kick", "Trap snare/clap", "Hi-hat rolls", "Percussive effects", "Trap cymbal"],
    bassSamples: ["808 sub bass", "Synth bass"],
    melodicSamples: ["Dark synth lead", "Pluck", "Ethnic sample", "Pad", "Bell"]
  },
  "Ambient/Melodic Hip-Hop": {
    bpmRange: "70 - 100",
    tips: "Atmospheric, emotional, with spacious beats and melodic vocals. Minimal drums with ambient textures.",
    maxElements: { drums: 4, bass: 1, melodic: 3 },
    drumSamples: ["Soft kick", "Light snare", "Percussion", "Brush hi-hat"],
    bassSamples: ["Warm bass", "Sub bass"],
    melodicSamples: ["Synth pad", "Electric piano", "Bell", "Guitar", "Vocal chops"]
  }
};

const moods = ["Chill", "Dark", "Melancholic", "Energetic", "Hopeful", "Introspective"];
const dailyTasks = [
  "Set vibe & BPM, select references",
  "Create drum groove (kick, snare, hats)",
  "Add bassline",
  "Add 1-2 melodic elements",
  "Arrange & add transitions",
  "Save beat idea & review"
];

// State helpers
function saveToStorage(key, val) { localStorage.setItem(key, JSON.stringify(val)); }
function loadFromStorage(key, fallback) {
  const val = localStorage.getItem(key);
  return val ? JSON.parse(val) : fallback;
}

// Load saved or default state
let selectedStyle = loadFromStorage('selectedStyle', 'Lo-Fi Hip-Hop');
let selectedMood = loadFromStorage('selectedMood', 'Chill');
let taskProgress = loadFromStorage('taskProgress', Array(dailyTasks.length).fill(false));
let selectedDrums = loadFromStorage('selectedDrums', []);
let selectedBass = loadFromStorage('selectedBass', []);
let selectedMelodic = loadFromStorage('selectedMelodic', []);
let notes = localStorage.getItem('notes') || "";

// DOM refs
const styleSelect = document.getElementById('style-select');
const moodSelect = document.getElementById('mood-select');
const styleInfo = document.getElementById('style-info');
const taskList = document.getElementById('task-list');
const drumsDiv = document.getElementById('drums');
const bassDiv = document.getElementById('bass');
const melodicDiv = document.getElementById('melodic');
const notesArea = document.getElementById('notes-area');
const summaryDiv = document.getElementById('summary');

// Instrument descriptions for tooltips
const instrumentDescription = {
  drums: {
    "Soft kick": "Warm, soft bass kick for chill vibe.",
    "Lo-fi snare": "Subtle snare with vintage texture.",
    "Closed hi-hat": "Crisp hi-hat for rhythm.",
    "Open hi-hat": "Open hi-hat to add groove.",
    Shaker: "Shaker percussion for texture.",
    "Punchy kick": "Strong kick punch for trap energy.",
    "Trap snare/clap": "Sharp snare/clap common in trap.",
    "Hi-hat rolls": "Fast hi-hat rolls for trap groove.",
    "Percussive effects": "Sampled percussive sounds to add interest.",
    "Trap cymbal": "Crash cymbal for trap dynamics.",
    "Light snare": "Soft snare for ambient beats.",
    Percussion: "Additional percussion for movement.",
    "Brush hi-hat": "Gentle hi-hat for smooth groove."
  },
  bass: {
    "Warm sub bass": "Deep and warm bass for lo-fi base.",
    "Synth bass": "Smooth synth bass for melody support.",
    "808 sub bass": "Classic 808 bass with punch.",
    "Warm bass": "Deep, smooth bass for ambient.",
    "Sub bass": "Low frequency bass."
  },
  melodic: {
    "Electric piano": "Soft keys with warm tone, great for melody.",
    "Pluck synth": "Short, plucky synth melody lines.",
    "Ambient pad": "Sustained ambient sound for atmosphere.",
    Bell: "Light bell for sparkle.",
    "Guitar loop": "Short guitar riffs to add character.",
    "Dark synth lead": "Moody synth lead for trap.",
    Ethnic sample: "Sample with traditional ethnic sound.",
    Pad: "Background pad for fullness.",
    "Vocal chops": "Vocal samples chopped for texture.",
    Guitar: "Clean or distorted guitars for mood."
  }
};

// Utility to create dropdown options
const createOption = (val) => {
  const opt = document.createElement('option');
  opt.value = val; opt.textContent = val; return opt;
};

// Populate selectors
function populateSelectors() {
  for (const style of Object.keys(musicStyles)) styleSelect.appendChild(createOption(style));
  for (const mood of moods) moodSelect.appendChild(createOption(mood));
  styleSelect.value = selectedStyle;
  moodSelect.value = selectedMood;
}

// Update style info under dropdowns
function renderStyleInfo() {
  const s = musicStyles[selectedStyle];
  styleInfo.innerHTML = `
    <p><strong>BPM Range:</strong> ${s.bpmRange}</p>
    <p><strong>Style Tips:</strong> ${s.tips}</p>
    <p><strong>Element Limits:</strong> Drums: ${s.maxElements.drums}, Bass: ${s.maxElements.bass}, Melodic: ${s.maxElements.melodic}</p>
  `;
}

// Render daily tasks checklist
function renderTasks() {
  taskList.innerHTML = '';
  dailyTasks.forEach((task, i) => {
    const li = document.createElement('li');
    const cb = document.createElement('input');
    cb.type = 'checkbox'; cb.id = 'task-' + i;
    cb.checked = taskProgress[i];
    cb.onchange = () => {
      taskProgress[i] = cb.checked;
      saveToStorage('taskProgress', taskProgress);
      renderSummary();
    };
    const label = document.createElement('label');
    label.htmlFor = cb.id;
    label.textContent = task;
    li.appendChild(cb); li.appendChild(label);
    taskList.appendChild(li);
  });
}

// Render instrument selection buttons with limits
function renderInstruments() {
  const s = musicStyles[selectedStyle];
  function renderCategory(div, category, list, selected, max) {
    div.innerHTML = '';
    list.forEach(item => {
      const btn = document.createElement('button');
      btn.textContent = item;
      btn.className = selected.includes(item) ? 'selected' : 'unselected';
      btn.setAttribute('data-tooltip', instrumentDescription[category][item] || '');
      btn.onclick = () => {
        if (selected.includes(item)) {
          selected.splice(selected.indexOf(item), 1);
        } else {
          if (selected.length >= max) {
            alert(`Max ${category} elements reached (${max}). Deselect one first.`);
            return;
          }
          selected.push(item);
        }
        saveToStorage(`selected${capitalize(category)}`, selected);
        renderInstruments();
        renderSummary();
      };
      div.appendChild(btn);
    });
  }
  renderCategory(drumsDiv, 'drums', s.drumSamples, selectedDrums, s.maxElements.drums);
  renderCategory(bassDiv, 'bass', s.bassSamples, selectedBass, s.maxElements.bass);
  renderCategory(melodicDiv, 'melodic', s.melodicSamples, selectedMelodic, s.maxElements.melodic);
}
function capitalize(s) { return s.charAt(0).toUpperCase() + s.slice(1); }

// Render summary of all choices
function renderSummary() {
  summaryDiv.innerHTML = `
    <p><strong>Music Style:</strong> ${selectedStyle}</p>
    <p><strong>Mood/Vibe:</strong> ${selectedMood}</p>
    <p><strong>BPM Range:</strong> ${musicStyles[selectedStyle].bpmRange}</p>
    <p><strong>Tips:</strong> ${musicStyles[selectedStyle].tips}</p>
    <p><strong>Daily Tasks Progress:</strong> ${taskProgress.filter(t => t).length} of ${dailyTasks.length} completed</p>
    <p><strong>Instruments Selected:</strong></p>
    <ul>
      <li>Drums: ${selectedDrums.join(', ') || 'None'}</li>
      <li>Bass: ${selectedBass.join(', ') || 'None'}</li>
      <li>Melodic: ${selectedMelodic.join(', ') || 'None'}</li>
    </ul>
  `;
}

// Event handlers for style, mood, notes
styleSelect.onchange = (e) => {
  selectedStyle = e.target.value;
  saveToStorage('selectedStyle', selectedStyle);
  // reset instruments on style change
  selectedDrums = [];
  selectedBass = [];
  selectedMelodic = [];
  saveToStorage('selectedDrums', selectedDrums);
  saveToStorage('selectedBass', selectedBass);
  saveToStorage('selectedMelodic', selectedMelodic);
  renderStyleInfo();
  renderInstruments();
  renderSummary();
};
moodSelect.onchange = (e) => {
  selectedMood = e.target.value;
  saveToStorage('selectedMood', selectedMood);
  renderSummary();
};
notesArea.value = notes;
notesArea.oninput = (e) => {
  notes = e.target.value;
  localStorage.setItem('notes', notes);
};

// Initialize on page load
function init() {
  populateSelectors();
  renderStyleInfo();
  renderTasks();
  renderInstruments();
  renderSummary();
}
window.onload = init;

</script>

</body>
</html>
